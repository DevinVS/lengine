graphics:
  camera:
    rect:
      x: 0.0
      y: 0.0
      w: 1000
      h: 800
    player_box:
      w: 400
      h: 300
    zoom: 5
  dialog:
    path: "./assets/dialog.png"
    font: "./assets/GnuUnifontFull-Pm9P.ttf"
    fontsize: 24
    renderbox:
      x: 0
      y: 600
      w: 1000
      h: 200
    textbox:
      x: 60
      y: 60
      w: 680
      h: 60
dialogs:
  - name: "locked_door"
    messages:
      - "The door is locked, you must have left a key around here somewhere..."
  - name: "painting"
    messages:
      - "A painting of a sunset. It reminds you of somewhere."
  - name: "obtain_key"
    messages:
      - "You picked up a key."
  - name: "unlocked_door"
    messages:
      - "The door unlocks with a satisfying click and you finish the game demo..."
inputs:
  - add:
    - "interact"
    ttl: 0
    key: "e"
    button: "a"
background:
  color:
    r: 48
    g: 72
    b: 49
  path: "./assets/room.png"
  renderbox:
    w: 800
    h: 800
entities:
  # Timmy
  - position:
      x: 20.0
      y: 20.0
    player: true
    physics:
      hitbox:
        w: 12
        h: 17
      depth: 2
    graphics:
      path: "./assets/timmy_innit.png"
      renderbox:
        w: 12
        h: 17
      srcbox:
        x: 0
        y: 0
        w: 12
        h: 17
    animations:
      - state: "idle"
        period: 1.0
        path: "./assets/timmy_innit.png"
      - state: "walking"
        period: 0.1
        path: "./assets/timmy_walking.png"
        srcbox:
          x: 0
          y: 0
          w: 12
          h: 17
        frame_width: 18
        frame_count: 12
  # Door
  - state: "locked"
    position:
      x: 30
      y: 5
    physics:
      hitbox:
        w: 12
        h: 25
    events:
      - states:
        - "interact"
        - "locked"
        actions:
          - type: "dialog"
            dialog: "locked_door"
          - type: "remove_state"
            state: "interact"
      - states:
        - "interact"
        - "unlocked"
        actions:
          - type: "dialog"
            dialog: "unlocked_door"
          - type: "remove_state"
            state: "interact"
  # Painting
  - position:
      x: 93
      y: 10
    physics:
      hitbox:
        w: 21
        h: 20
    events:
      - states:
        - "interact"
        actions:
          - type: "dialog"
            dialog: "painting"
          - type: "remove_state"
            state: "interact"
  # Key
  - state: "on_floor"
    position:
      x: 60
      y: 60
    physics:
      physical: false
      hitbox:
        w: 8
        h: 4
    graphics:
      path: "./assets/key.png"
      renderbox:
        w: 8
        h: 4
    events:
      - states:
        - "interact"
        - "on_floor"
        actions:
          - type: "dialog"
            dialog: "obtain_key"
          - type: "add_state"
            state: "invisible"
          - type: "remove_state"
            state: "on_floor"
          - type: "remove_state"
            state: "interact"
          - type: "add_effect"
            effect:
              add:
                - "unlocked"
              remove:
                - "locked"
              ttl: 0
              rect:
                x: 30
                y: 5
                w: 5
                h: 5
  # Walls
  - position:
      x: 0
      y: 0
    physics:
      hitbox:
        w: 10
        h: 160
  - position:
      x: 0
      y: 0
    physics:
      hitbox:
        w: 160
        h: 30
  - position:
      x: 150
      y: 0
    physics:
      hitbox:
        w: 10
        h: 160
  - position:
      x: 0
      y: 150
    physics:
      hitbox:
        w: 160
        h: 10
